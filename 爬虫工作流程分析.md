# ğŸ•·ï¸ çˆ¬è™«ç³»ç»Ÿå·¥ä½œæµç¨‹ä¸åçˆ¬è™«åº”å¯¹ç­–ç•¥

**æ›´æ–°æ—¶é—´**: 2025å¹´8æœˆ4æ—¥
**ç³»ç»Ÿç‰ˆæœ¬**: v3.0 (ç¬¬ä¸‰é˜¶æ®µ)

---

## ğŸ“Š æ•´ä½“æ¶æ„æµç¨‹å›¾

```
ç”¨æˆ·å¯åŠ¨çˆ¬è™«
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                1. çˆ¬è™«åˆå§‹åŒ–é˜¶æ®µ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ åŠ è½½ç½‘ç«™é…ç½® (config/sites/{site}.yaml)               â”‚
â”‚ â€¢ åˆå§‹åŒ–è§„åˆ™å¼•æ“ (RuleEngine)                           â”‚
â”‚ â€¢ è®¾ç½®èµ·å§‹URLå’Œå…è®¸åŸŸå                                  â”‚
â”‚ â€¢ åŠ¨æ€æ›´æ–°çˆ¬è™«è®¾ç½®                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                2. è¯·æ±‚ç”Ÿæˆé˜¶æ®µ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ start_requests() ç”Ÿæˆåˆå§‹è¯·æ±‚                         â”‚
â”‚ â€¢ åº”ç”¨ç½‘ç«™ç‰¹å®šçš„è¯·æ±‚å¤´                                   â”‚
â”‚ â€¢ è®¾ç½®è¯·æ±‚å»¶è¿Ÿå’Œå¹¶å‘æ§åˆ¶                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                3. ä¸‹è½½ä¸­é—´ä»¶å¤„ç†                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”„ ProxyMiddleware (ä»£ç†è½®æ¢)                           â”‚
â”‚ ğŸ­ UserAgentMiddleware (UAè½®æ¢)                         â”‚
â”‚ ğŸ›¡ï¸ AntiCrawlMiddleware (åçˆ¬è™«æ£€æµ‹)                     â”‚
â”‚ ğŸ¤– SeleniumMiddleware (JSæ¸²æŸ“)                          â”‚
â”‚ ğŸ¯ BehaviorSimulationMiddleware (è¡Œä¸ºæ¨¡æ‹Ÿ)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                4. å“åº”å¤„ç†é˜¶æ®µ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ åçˆ¬è™«æ£€æµ‹å’Œåº”å¯¹                                       â”‚
â”‚ â€¢ å“åº”çŠ¶æ€ç æ£€æŸ¥                                         â”‚
â”‚ â€¢ å†…å®¹è´¨é‡éªŒè¯                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                5. æ•°æ®æå–é˜¶æ®µ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ è§„åˆ™å¼•æ“æ•°æ®æå–                                       â”‚
â”‚ â€¢ é…ç½®åŒ–å­—æ®µæå–                                         â”‚
â”‚ â€¢ é“¾æ¥å‘ç°å’Œè·Ÿè¿›                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                6. æ•°æ®å¤„ç†ç®¡é“                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”§ EnhancedExtractionPipeline (å¢å¼ºæå–)               â”‚
â”‚ ğŸ“Š DataEnrichmentPipeline (æ•°æ®ä¸°å¯ŒåŒ–)                 â”‚
â”‚ ğŸ§¹ ComprehensiveDataPipeline (ç»¼åˆå¤„ç†)                â”‚
â”‚   â”œâ”€â”€ æ•°æ®æ¸…æ´— (CleaningPipeline)                      â”‚
â”‚   â”œâ”€â”€ æ•°æ®éªŒè¯ (ValidationPipeline)                    â”‚
â”‚   â””â”€â”€ è´¨é‡è¯„ä¼° (QualityMonitor)                        â”‚
â”‚ ğŸ’¾ MongoPipeline (æ•°æ®å­˜å‚¨)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                7. æ•°æ®å­˜å‚¨é˜¶æ®µ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ JSONæ–‡ä»¶å­˜å‚¨ (data/*.json)                           â”‚
â”‚ â€¢ MongoDBå­˜å‚¨ (crawler_db)                             â”‚
â”‚ â€¢ è´¨é‡æŠ¥å‘Šç”Ÿæˆ                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›¡ï¸ åçˆ¬è™«åº”å¯¹ç­–ç•¥è¯¦è§£

### 1. **æ£€æµ‹æœºåˆ¶** (AntiCrawlDetector)

#### æ”¯æŒçš„åçˆ¬è™«ç±»å‹æ£€æµ‹ï¼š
```python
DETECTION_RULES = {
    'captcha': {
        'indicators': ['éªŒè¯ç ', 'captcha', 'verify', 'äººæœºéªŒè¯'],
        'selectors': ['img[src*="captcha"]', '.captcha', '#verify'],
        'confidence_threshold': 0.8
    },
    'js_challenge': {
        'indicators': ['æ­£åœ¨è·³è½¬', 'é¡µé¢è·³è½¬ä¸­', 'redirecting'],
        'js_patterns': ['setTimeout', 'location.href', 'window.location'],
        'confidence_threshold': 0.7
    },
    'rate_limit': {
        'status_codes': [412, 429, 503],
        'indicators': ['è®¿é—®é¢‘ç‡', 'è¯·æ±‚è¿‡å¿«', 'too many requests'],
        'confidence_threshold': 0.9
    },
    'ip_block': {
        'status_codes': [403, 451],
        'indicators': ['IPè¢«å°', 'access denied', 'forbidden'],
        'confidence_threshold': 0.8
    },
    'user_agent_check': {
        'indicators': ['æµè§ˆå™¨ä¸æ”¯æŒ', 'browser not supported'],
        'confidence_threshold': 0.7
    }
}
```

#### æ£€æµ‹æµç¨‹ï¼š
1. **çŠ¶æ€ç æ£€æŸ¥**: æ£€æµ‹412ã€429ã€403ç­‰å¼‚å¸¸çŠ¶æ€ç 
2. **å†…å®¹åˆ†æ**: æ‰«æé¡µé¢å†…å®¹ä¸­çš„åçˆ¬è™«å…³é”®è¯
3. **å…ƒç´ æ£€æµ‹**: æŸ¥æ‰¾éªŒè¯ç å›¾ç‰‡ã€JSè·³è½¬ä»£ç ç­‰
4. **è¡Œä¸ºåˆ†æ**: æ£€æµ‹å¼‚å¸¸çš„å“åº”æ—¶é—´å’Œé‡å®šå‘
5. **ç½®ä¿¡åº¦è¯„åˆ†**: ä¸ºæ¯ç§æ£€æµ‹ç±»å‹è®¡ç®—0-1çš„ç½®ä¿¡åº¦åˆ†æ•°

### 2. **åº”å¯¹ç­–ç•¥** (AntiCrawlStrategy)

#### ç­–ç•¥æ˜ å°„ï¼š
```python
STRATEGIES = {
    'captcha': [
        'use_selenium',      # ä½¿ç”¨Seleniumå¤„ç†
        'change_proxy',      # æ›´æ¢ä»£ç†
        'increase_delay',    # å¢åŠ å»¶è¿Ÿ
        'rotate_user_agent'  # è½®æ¢User-Agent
    ],
    'rate_limit': [
        'increase_delay',    # å¢åŠ è¯·æ±‚é—´éš”
        'change_proxy',      # æ›´æ¢IP
        'reduce_concurrency' # é™ä½å¹¶å‘æ•°
    ],
    'js_challenge': [
        'use_selenium',      # ä½¿ç”¨æµè§ˆå™¨æ¸²æŸ“
        'wait_and_retry'     # ç­‰å¾…åé‡è¯•
    ],
    'ip_block': [
        'change_proxy',      # ç«‹å³æ›´æ¢ä»£ç†
        'long_delay'         # é•¿æ—¶é—´å»¶è¿Ÿ
    ]
}
```

### 3. **ä¸­é—´ä»¶åä½œæœºåˆ¶**

#### ä¸­é—´ä»¶æ‰§è¡Œé¡ºåºï¼š
```python
DOWNLOADER_MIDDLEWARES = {
    'crawler.middlewares.ProxyMiddleware': 350,                    # ä»£ç†ç®¡ç†
    'crawler.middlewares.CustomUserAgentMiddleware': 400,         # UAè½®æ¢
    'crawler.selenium_middleware.SeleniumMiddleware': 585,        # Seleniumå¤„ç†
    'anti_crawl.middleware.AntiCrawlMiddleware': 590,             # åçˆ¬è™«æ£€æµ‹
    'anti_crawl.middleware.BehaviorSimulationMiddleware': 600,    # è¡Œä¸ºæ¨¡æ‹Ÿ
    'anti_crawl.middleware.HeaderRotationMiddleware': 605,       # è¯·æ±‚å¤´è½®æ¢
}
```

#### åä½œæµç¨‹ï¼š
1. **è¯·æ±‚é¢„å¤„ç†**: ProxyMiddlewareé€‰æ‹©ä»£ç†ï¼ŒUserAgentMiddlewareè®¾ç½®UA
2. **åçˆ¬è™«æ£€æµ‹**: AntiCrawlMiddlewareæ£€æµ‹å“åº”ä¸­çš„åçˆ¬è™«æœºåˆ¶
3. **ç­–ç•¥æ‰§è¡Œ**: æ ¹æ®æ£€æµ‹ç»“æœè‡ªåŠ¨åº”ç”¨å¯¹åº”ç­–ç•¥
4. **è¡Œä¸ºæ¨¡æ‹Ÿ**: BehaviorSimulationMiddlewareæ¨¡æ‹Ÿäººç±»æµè§ˆè¡Œä¸º
5. **è¯·æ±‚é‡è¯•**: å¿…è¦æ—¶é‡æ–°å‘èµ·è¯·æ±‚

---

## ğŸ”„ å…·ä½“å·¥ä½œæµç¨‹

### å¯åŠ¨å‘½ä»¤ç¤ºä¾‹ï¼š
```bash
uv run scrapy crawl adaptive -a site=nhc_new
```

### è¯¦ç»†æ‰§è¡Œæ­¥éª¤ï¼š

#### 1. **åˆå§‹åŒ–é˜¶æ®µ**
```python
# 1.1 åŠ è½½ç½‘ç«™é…ç½®
site_rule = rule_engine.get_rule("nhc_new")
# é…ç½®åŒ…å«ï¼š
# - start_urls: èµ·å§‹URLåˆ—è¡¨
# - allowed_domains: å…è®¸çš„åŸŸå
# - request_settings: è¯·æ±‚è®¾ç½®
# - fields: æ•°æ®æå–è§„åˆ™

# 1.2 è®¾ç½®çˆ¬è™«å‚æ•°
self.start_urls = ["http://www.nhc.gov.cn/xcs/yqtb/list_gzbd.shtml"]
self.allowed_domains = ["nhc.gov.cn", "www.nhc.gov.cn"]
```

#### 2. **è¯·æ±‚å‘é€**
```python
# 2.1 ç”Ÿæˆè¯·æ±‚
request = Request(
    url="http://www.nhc.gov.cn/xcs/yqtb/list_gzbd.shtml",
    headers={
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)...',
        'Accept': 'text/html,application/xhtml+xml...',
        'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8'
    }
)

# 2.2 ä¸­é—´ä»¶å¤„ç†
# - ProxyMiddleware: æ·»åŠ ä»£ç† proxy='http://proxy:port'
# - UserAgentMiddleware: å¯èƒ½è½®æ¢UA
# - åº”ç”¨å»¶è¿Ÿ: download_delay=3ç§’
```

#### 3. **å“åº”å¤„ç†**
```python
# 3.1 åçˆ¬è™«æ£€æµ‹
if response.status == 412:
    detection_result = {
        'detected': ['rate_limit'],
        'confidence': {'rate_limit': 0.9},
        'suggestions': ['å¢åŠ è¯·æ±‚é—´éš”', 'ä½¿ç”¨ä»£ç†æ± è½®æ¢IP']
    }

# 3.2 ç­–ç•¥åº”ç”¨
if 'rate_limit' in detection_result['detected']:
    # å¢åŠ å»¶è¿Ÿåˆ°10ç§’
    # æ›´æ¢ä»£ç†IP
    # é‡æ–°å‘èµ·è¯·æ±‚
```

#### 4. **æ•°æ®æå–**
```python
# 4.1 ä½¿ç”¨è§„åˆ™å¼•æ“æå–
data = rule_engine.extract_data(response, site_rule)
# æå–å­—æ®µï¼štitle, content, publish_date, confirmed_casesç­‰

# 4.2 é“¾æ¥å‘ç°
links = rule_engine.get_links(response, site_rule)
# å‘ç°è¯¦æƒ…é¡µé“¾æ¥å¹¶åŠ å…¥é˜Ÿåˆ—
```

#### 5. **æ•°æ®å¤„ç†**
```python
# 5.1 æ•°æ®ä¸°å¯ŒåŒ–
item['spider_name'] = 'adaptive'
item['crawl_timestamp'] = '2025-08-04T01:30:00'
item['content_fingerprint'] = 'md5_hash'

# 5.2 æ•°æ®æ¸…æ´—
cleaned_title = clean_text(item['title'])  # å»é™¤å¤šä½™ç©ºæ ¼
cleaned_content = clean_html(item['content'])  # ç§»é™¤HTMLæ ‡ç­¾

# 5.3 æ•°æ®éªŒè¯
validation_result = validator.validate(item)
# æ£€æŸ¥å¿…éœ€å­—æ®µã€æ ¼å¼æ­£ç¡®æ€§ç­‰

# 5.4 è´¨é‡è¯„ä¼°
quality_score = assessor.assess_quality(item)
# è¯„ä¼°å®Œæ•´æ€§ã€å‡†ç¡®æ€§ã€ä¸€è‡´æ€§ç­‰
```

#### 6. **æ•°æ®å­˜å‚¨**
```python
# 6.1 JSONæ–‡ä»¶å­˜å‚¨
# ä¿å­˜åˆ°: data/adaptive_2025-08-04T01-30-00.json

# 6.2 MongoDBå­˜å‚¨
# ä¿å­˜åˆ°: crawler_db.adaptive_data é›†åˆ

# 6.3 è´¨é‡æŠ¥å‘Š
# ç”Ÿæˆ: reports/quality_report_adaptive.json
```

---

## ğŸ¯ åçˆ¬è™«åº”å¯¹å®ä¾‹

### å®ä¾‹1ï¼šé‡åˆ°412çŠ¶æ€ç 
```
è¯·æ±‚ â†’ è¿”å›412çŠ¶æ€ç  â†’ æ£€æµ‹ä¸ºrate_limit â†’ åº”ç”¨ç­–ç•¥ï¼š
1. å¢åŠ å»¶è¿Ÿåˆ°10ç§’
2. æ›´æ¢ä»£ç†IP
3. è½®æ¢User-Agent
4. é‡æ–°å‘èµ·è¯·æ±‚
```

### å®ä¾‹2ï¼šé‡åˆ°éªŒè¯ç 
```
è¯·æ±‚ â†’ é¡µé¢åŒ…å«éªŒè¯ç  â†’ æ£€æµ‹ä¸ºcaptcha â†’ åº”ç”¨ç­–ç•¥ï¼š
1. å¯ç”¨Seleniumæµè§ˆå™¨
2. æ›´æ¢ä»£ç†IP
3. å¢åŠ éšæœºå»¶è¿Ÿ
4. å¯é€‰ï¼šè°ƒç”¨éªŒè¯ç è¯†åˆ«æœåŠ¡
```

### å®ä¾‹3ï¼šJSè·³è½¬æ£€æµ‹
```
è¯·æ±‚ â†’ é¡µé¢åŒ…å«JSè·³è½¬ â†’ æ£€æµ‹ä¸ºjs_challenge â†’ åº”ç”¨ç­–ç•¥ï¼š
1. è‡ªåŠ¨å¯ç”¨Seleniumæ¸²æŸ“
2. ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ
3. è·å–æœ€ç»ˆé¡µé¢å†…å®¹
```

---

## ğŸ“Š ç›‘æ§å’Œç»Ÿè®¡

### å®æ—¶ç»Ÿè®¡ä¿¡æ¯ï¼š
- **æ€»è¯·æ±‚æ•°**: è·Ÿè¸ªå‘é€çš„è¯·æ±‚æ€»æ•°
- **åçˆ¬è™«æ£€æµ‹æ¬¡æ•°**: ç»Ÿè®¡å„ç±»å‹æ£€æµ‹æ¬¡æ•°
- **ç­–ç•¥åº”ç”¨æ¬¡æ•°**: è®°å½•å„ç­–ç•¥ä½¿ç”¨é¢‘ç‡
- **æˆåŠŸç‡**: è®¡ç®—æœ€ç»ˆæˆåŠŸè·å–æ•°æ®çš„æ¯”ä¾‹
- **å¹³å‡å“åº”æ—¶é—´**: ç›‘æ§ç½‘ç«™å“åº”æ€§èƒ½
- **ä»£ç†ä½¿ç”¨æƒ…å†µ**: è·Ÿè¸ªä»£ç†æ± ä½¿ç”¨çŠ¶æ€

### è´¨é‡ç›‘æ§ï¼š
- **æ•°æ®å®Œæ•´æ€§**: å¿…éœ€å­—æ®µçš„å®Œæ•´ç‡
- **æ•°æ®å‡†ç¡®æ€§**: æ ¼å¼å’Œå†…å®¹çš„æ­£ç¡®æ€§
- **æ•°æ®ä¸€è‡´æ€§**: å­—æ®µå‘½åå’Œç±»å‹ä¸€è‡´æ€§
- **æ•°æ®æ—¶æ•ˆæ€§**: çˆ¬å–æ—¶é—´çš„æ–°é²œåº¦
- **æ•´ä½“è´¨é‡è¯„åˆ†**: 0-1åˆ†åˆ¶ç»¼åˆè¯„åˆ†

---

## ğŸ”§ é…ç½®å’Œè°ƒä¼˜

### å…³é”®é…ç½®å‚æ•°ï¼š
```python
# åçˆ¬è™«é…ç½®
ANTI_CRAWL_ENABLED = True
ANTI_CRAWL_AUTO_RETRY = True
ANTI_CRAWL_MAX_RETRIES = 3
ANTI_CRAWL_RETRY_DELAY = 5

# è¡Œä¸ºæ¨¡æ‹Ÿé…ç½®
BEHAVIOR_MIN_DELAY = 1.0
BEHAVIOR_MAX_DELAY = 5.0

# Seleniumé…ç½®
SELENIUM_ENABLED = False  # æŒ‰éœ€å¯ç”¨
SELENIUM_GRID_URL = 'http://localhost:4444'

# æ•°æ®è´¨é‡é…ç½®
MIN_QUALITY_SCORE = 0.0
ENABLE_QUALITY_ASSESSMENT = True
```

### æ€§èƒ½è°ƒä¼˜å»ºè®®ï¼š
1. **åˆç†è®¾ç½®å»¶è¿Ÿ**: æ ¹æ®ç½‘ç«™ç‰¹ç‚¹è°ƒæ•´è¯·æ±‚é—´éš”
2. **ä»£ç†æ± ç®¡ç†**: ç»´æŠ¤é«˜è´¨é‡çš„ä»£ç†IPæ± 
3. **å¹¶å‘æ§åˆ¶**: é¿å…è¿‡é«˜å¹¶å‘è§¦å‘åçˆ¬è™«
4. **ç¼“å­˜ç­–ç•¥**: é¿å…é‡å¤è¯·æ±‚ç›¸åŒå†…å®¹
5. **ç›‘æ§è°ƒæ•´**: æ ¹æ®æˆåŠŸç‡åŠ¨æ€è°ƒæ•´ç­–ç•¥

è¿™ä¸ªå·¥ä½œæµç¨‹ç¡®ä¿äº†çˆ¬è™«ç³»ç»Ÿèƒ½å¤Ÿæ™ºèƒ½åœ°åº”å¯¹å„ç§åçˆ¬è™«æœºåˆ¶ï¼ŒåŒæ—¶ä¿è¯æ•°æ®è´¨é‡å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚
