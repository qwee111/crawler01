# 环境变量配置文件示例
# 复制此文件为 .env 并修改相应的值

# 应用环境
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Redis配置
REDIS_PASSWORD=
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# MongoDB配置
MONGODB_ROOT_USERNAME=admin
MONGODB_ROOT_PASSWORD=password123
MONGODB_DATABASE=crawler_db
MONGODB_HOST=mongodb
MONGODB_PORT=27017

# PostgreSQL配置
POSTGRES_DB=crawler_db
POSTGRES_USER=crawler_user
POSTGRES_PASSWORD=crawler_pass123
POSTGRES_HOST=postgresql
POSTGRES_PORT=5432

# MinIO配置
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_HOST=minio
MINIO_PORT=9000

# 管理界面配置
MONGO_EXPRESS_USER=admin
MONGO_EXPRESS_PASSWORD=admin123
PGADMIN_EMAIL=admin@crawler.com
PGADMIN_PASSWORD=admin123

# 爬虫配置
CONCURRENT_REQUESTS=16
DOWNLOAD_DELAY=1
RANDOMIZE_DOWNLOAD_DELAY=0.5
RETRY_TIMES=3

# 代理配置
PROXY_POOL_SIZE=100
PROXY_VALIDATION_TIMEOUT=10
PROXY_ROTATION_INTERVAL=100

# 监控配置
PROMETHEUS_PORT=8000
METRICS_ENABLED=true
ALERT_WEBHOOK_URL=

# 安全配置
SECRET_KEY=your-secret-key-change-this-in-production
API_TOKEN=your-api-token-change-this-in-production
JWT_SECRET=your-jwt-secret-change-this-in-production

# 邮件配置（用于告警）
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=crawler-system@yourcompany.com

# Slack配置（用于告警）
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#crawler-alerts

# 数据质量配置
MIN_QUALITY_SCORE=0.7
MAX_ERROR_RATE=0.1
MIN_SUCCESS_RATE=0.8

# 存储配置
DATA_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *

# 网络配置
CRAWLER_NETWORK_SUBNET=172.20.0.0/16

# 资源限制
MAX_MEMORY_USAGE=2GB
MAX_CPU_USAGE=80%

# 时区配置
TZ=UTC

# 外部服务配置
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# 文件上传配置
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=json,csv,txt

# 数据库连接池配置
DB_POOL_SIZE=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# 队列配置
TASK_QUEUE_SIZE=10000
RESULT_QUEUE_SIZE=5000
PRIORITY_QUEUE_SIZE=1000

# 爬虫特定配置
USER_AGENT_ROTATION=true
RESPECT_ROBOTS_TXT=false
ENABLE_COOKIES=true
ENABLE_AUTOTHROTTLE=true

# 反爬配置
ENABLE_PROXY_ROTATION=true
ENABLE_USER_AGENT_ROTATION=true
ENABLE_DELAY_RANDOMIZATION=true
CAPTCHA_SOLVING_ENABLED=false

# 数据处理配置
ENABLE_DATA_VALIDATION=true
ENABLE_DATA_CLEANING=true
ENABLE_DUPLICATE_DETECTION=true
ENABLE_QUALITY_SCORING=true

# 监控和告警配置
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ERROR_TRACKING=true

# 备份配置
BACKUP_TYPE=incremental
BACKUP_COMPRESSION=gzip
BACKUP_ENCRYPTION=false
BACKUP_RETENTION_DAYS=30

# 集群配置（如果使用）
CLUSTER_MODE=false
CLUSTER_NODES=3
CLUSTER_REPLICATION_FACTOR=2

# 开发配置
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILING=false
ENABLE_TESTING_MODE=false

# 生产配置
ENABLE_SSL=false
SSL_CERT_PATH=/etc/ssl/certs/crawler.crt
SSL_KEY_PATH=/etc/ssl/private/crawler.key

# API配置
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600
API_CORS_ORIGINS=*

# 第三方服务配置
CAPTCHA_SERVICE_API_KEY=
PROXY_SERVICE_API_KEY=
NOTIFICATION_SERVICE_API_KEY=
